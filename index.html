<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goldfolio - Digital Gold Dashboard</title>

    <!-- STYLES -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <!-- CHARTS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<!-- Welcome Screen -->
<div id="welcome-screen" class="screen active">
    <div class="welcome-box">
        <div class="logo">
            <i class="fas fa-chart-line"></i>
            <h1>Goldfolio</h1>
        </div>
        <p class="subtitle">Digital Gold Investment Tracker</p>

        <div class="buttons">
            <button id="start-new" class="btn btn-primary">
                <i class="fas fa-plus"></i> Start New Dashboard
            </button>
            <button id="import-data" class="btn btn-secondary">
                <i class="fas fa-upload"></i> Import Data
            </button>
            <input type="file" id="import-file" accept=".json" style="display: none;">
            <button id="demo-mode" class="btn btn-secondary">
                <i class="fas fa-play"></i> Try Demo
            </button>
        </div>

        <div class="info">
            <p><i class="fas fa-info-circle"></i> All data is saved to a JSON file on your device</p>
            <p><i class="fas fa-microchip"></i> Supports transactions down to 0.0000001g</p>
        </div>
    </div>
</div>

<!-- Main Dashboard -->
<div id="dashboard" class="screen">
    <!-- Header -->
    <header>
        <div class="header-left">
            <h1><i class="fas fa-chart-line"></i> Goldfolio</h1>
            <div class="gold-rate">
                <span>Gold Rate: ₹</span>
                <input type="text" id="gold-rate-input" value="6500.00">
                <span>/g</span>
                <button id="update-rate" class="btn-small">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
        </div>
        <div class="header-right">
            <button id="add-transaction" class="btn btn-primary">
                <i class="fas fa-plus"></i> Add Gold
            </button>
            <button id="save-data" class="btn btn-secondary">
                <i class="fas fa-save"></i> Save
            </button>
            <button id="export-data" class="btn btn-secondary">
                <i class="fas fa-download"></i> Export
            </button>
        </div>
    </header>

    <!-- Overview Cards -->
    <div class="cards">
        <div class="card">
            <div class="card-icon gold">
                <i class="fas fa-weight-hanging"></i>
            </div>
            <div class="card-content">
                <h3>Total Gold</h3>
                <p class="value" id="total-gold">0.0000000</p>
                <p class="subtext">grams</p>
            </div>
        </div>

        <div class="card">
            <div class="card-icon money">
                <i class="fas fa-rupee-sign"></i>
            </div>
            <div class="card-content">
                <h3>Total Invested</h3>
                <p class="value" id="total-invested">₹0.00</p>
                <p class="subtext" id="transaction-count">0 transactions</p>
            </div>
        </div>

        <div class="card">
            <div class="card-icon value">
                <i class="fas fa-chart-bar"></i>
            </div>
            <div class="card-content">
                <h3>Current Value</h3>
                <p class="value" id="current-value">₹0.00</p>
                <p class="subtext">at ₹<span id="current-rate">6500.00</span>/g</p>
            </div>
        </div>

        <div class="card">
            <div class="card-icon profit">
                <i class="fas fa-trend-up"></i>
            </div>
            <div class="card-content">
                <h3>Profit/Loss</h3>
                <p class="value" id="profit-loss">₹0.00</p>
                <p class="subtext" id="profit-percent">0.00%</p>
            </div>
        </div>
    </div>

    <!-- Chart -->
    <div class="chart-container">
        <h3><i class="fas fa-chart-line"></i> Investment Growth</h3>
        <canvas id="valueChart"></canvas>
    </div>

    <!-- Transactions -->
    <div class="transactions-container">
        <div class="transactions-header">
            <h3><i class="fas fa-exchange-alt"></i> Transactions</h3>
            <div class="filters">
                <select id="sort-transactions">
                    <option value="date-desc">Newest First</option>
                    <option value="date-asc">Oldest First</option>
                    <option value="weight-desc">Most Gold</option>
                    <option value="weight-asc">Least Gold</option>
                </select>
            </div>
        </div>

        <div id="empty-state" class="empty-state">
            <i class="fas fa-coins"></i>
            <p>No transactions yet</p>
            <button id="add-first-btn" class="btn btn-primary">
                <i class="fas fa-plus"></i> Add First Transaction
            </button>
        </div>

        <div id="transactions-list" class="transactions-list">
            <!-- Transactions will go here -->
        </div>
    </div>
</div>

<!-- Transaction Modal -->
<div id="transaction-modal" class="modal">
    <div class="modal-box">
        <div class="modal-header">
            <h3><i class="fas fa-coins"></i> Add Gold Purchase</h3>
            <button class="close-modal">&times;</button>
        </div>

        <form id="transaction-form">
            <div class="form-group">
                <label for="txn-date">Date</label>
                <input type="date" id="txn-date" required>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="txn-provider">Provider</label>
                    <select id="txn-provider" required>
                        <option value="SafeGold">PhonePe SafeGold</option>
                        <option value="Paytm Gold">Paytm Gold</option>
                        <option value="Google Pay Gold">Google Pay Gold</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="txn-payment">Payment</label>
                    <select id="txn-payment" required>
                        <option value="UPI">UPI</option>
                        <option value="Card">Card</option>
                        <option value="Net Banking">Net Banking</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="txn-rate">Rate per gram (₹)</label>
                    <input type="text" id="txn-rate" placeholder="6500.00" required>
                    <small>Current: ₹<span id="current-rate-hint">6500.00</span>/g</small>
                </div>

                <div class="form-group">
                    <label for="txn-weight">Gold Weight (g)</label>
                    <input type="text" id="txn-weight" placeholder="0.00123456" required>
                    <small>Up to 0.0000001g</small>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="txn-gst">GST (₹)</label>
                    <input type="text" id="txn-gst" placeholder="0.00" required>
                    <small>Typically 3% of gold value</small>
                </div>

                <div class="form-group">
                    <label for="txn-total">Total Paid (₹)</label>
                    <input type="text" id="txn-total" placeholder="0.00" required>
                    <small>Gold value + GST</small>
                </div>
            </div>

            <div class="calculation-preview">
                <div class="calc-row">
                    <span>Gold Value:</span>
                    <span id="calc-gold-value">₹0.00</span>
                </div>
                <div class="calc-row">
                    <span>GST (3%):</span>
                    <span id="calc-gst">₹0.00</span>
                </div>
                <div class="calc-row total">
                    <span>Total:</span>
                    <span id="calc-total">₹0.00</span>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Transaction</button>
            </div>
        </form>
    </div>
</div>

<!-- JavaScript -->
<script src="app.js"></script>
</body>
</html>